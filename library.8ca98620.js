var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequired7c6=n);var a=n("2sH7u"),i=n("1TPJ0");const l={openModalContainer:document.querySelector(".movies-cards-container"),modalCloseBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]"),modalMovieCardContainer:document.querySelector(".movie-modal-card")};let s,d=1,c=1;function r(){l.modalMovieCardContainer.innerHTML="Movie's info was not find!!! :-(  Sorry!!!"}function m(e){console.log(e),l.modalMovieCardContainer.innerHTML=`\n    <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.original_title}" class="modal__img" />\n\n        <div class="modal__info-block">\n        \n        <ul class="modal__info discription__modal">\n        <li class="discription__modal-item">\n          <h4 class="discription__modal-title">Vote / Votes</h4>\n          <p class="discription__modal-text">\n            <span class="discription__modal-text-vote">${e.vote_average}</span>\n            <span class="discription__modal-text-slash">/</span>\n            <span class="discription__modal-text-votes">${e.vote_count}</span>\n          </p>\n        </li>\n        <li class="discription__modal-item">\n          <h4 class="discription__modal-title">Popularity</h4>\n          <p class="discription__modal-text">${e.popularity.toFixed(1)}</p>\n        </li>\n        <li class="discription__modal-item">\n          <h4 class="discription__modal-title">Original Title</h4>\n          <p class="discription__modal-text">${e.original_title}</p>\n        </li>\n        <li class="discription__modal-item">\n          <h4 class="discription__modal-title">Genre</h4>\n          <p class="discription__modal-text">FFFFFFFF</p>\n        </li>\n\n           <li class="modal__info about__modal">\n      <h4 class="about__modal-title">About</h4>\n      <p class="about__modal-text">${e.overview}</p>\n    </li>\n      </ul>\n \n \n    <div class="modal-button-container">\n      <button type="button" class="modal-button" id="modal-button-watched">add to Watched</button>\n      <button type="button" class="modal-button" id="modal-button-queue">add to Queue</button>\n    </div>\n  </div>\n   </div>\n   `,document.querySelector("#modal-button-watched").addEventListener("click",u),document.querySelector("#modal-button-queue").addEventListener("click",p),g(s,localStorage.getItem("watched-movies"))?v(0):v(1),g(s,localStorage.getItem("queue-movies"))?_(0):_(1)}function u(e){document.querySelector("#modal-button-watched");if(1===d){v(0),_(1);const e=localStorage.getItem("watched-movies");e?!1===g(s,e)&&localStorage.setItem("watched-movies",e+","+s):localStorage.setItem("watched-movies",s);const t=localStorage.getItem("queue-movies");!0===g(s,t)&&localStorage.setItem("queue-movies",f(s,t)),l.openModalContainer.classList.contains("movies-cards-container-library")&&(0,a.renderLibraryMovies)()}else{v(1);const e=localStorage.getItem("watched-movies");!0===g(s,e)&&localStorage.setItem("watched-movies",f(s,e)),l.openModalContainer.classList.contains("movies-cards-container-library")&&(0,a.renderLibraryMovies)()}}function p(e){document.querySelector("#modal-button-queue");if(1===c){v(1),_(0);const e=localStorage.getItem("queue-movies");e?!1===g(s,e)&&localStorage.setItem("queue-movies",e+","+s):localStorage.setItem("queue-movies",s);const t=localStorage.getItem("watched-movies");!0===g(s,t)&&localStorage.setItem("watched-movies",f(s,t)),l.openModalContainer.classList.contains("movies-cards-container-library")&&(0,a.renderLibraryMovies)()}else{_(1);const e=localStorage.getItem("queue-movies");!0===g(s,e)&&localStorage.setItem("queue-movies",f(s,e)),l.openModalContainer.classList.contains("movies-cards-container-library")&&(0,a.renderLibraryMovies)()}}function v(e){let t=document.querySelector("#modal-button-watched");0===e?(t.innerHTML="remove from Watched",d=0,t.classList.add("pressed")):(t.innerHTML="add to Watched",d=1,t.classList.remove("pressed"))}function _(e){let t=document.querySelector("#modal-button-queue");0===e?(t.innerHTML="remove from Queue",c=0,t.classList.add("pressed")):(t.innerHTML="add to Queue",c=1,t.classList.remove("pressed"))}function g(e,t){if(null===t)return!1;let o=t.split(",");for(movie of(console.log(o),o))if(movie===e)return!0;return!1}function f(e,t){let o=t.split(",");for(let t=0;t<o.length;t+=1)if(o[t]===e){o.splice(t,1);break}return o.join(",")}l.openModalContainer.addEventListener("click",(function(e){e.preventDefault();let t=e.target.closest("a");t&&(console.log(t.getAttribute("data-id")),s=t.getAttribute("data-id"),document.body.classList.toggle("modal-open"),l.modal.classList.toggle("is-hidden"),(0,i.fetchMoviesById)(s).then(m).catch(r))})),l.modalCloseBtn.addEventListener("click",(function(){l.modal.classList.add("is-hidden"),document.body.classList.remove("modal-open")})),l.modal.addEventListener("click",(function(e){e.target===l.modal&&(l.modal.classList.add("is-hidden"),document.body.classList.remove("modal-open"))})),window.addEventListener("keydown",(function(e){"Escape"===e.code&&(l.modal.classList.add("is-hidden"),document.body.classList.remove("modal-open"))}));
//# sourceMappingURL=library.8ca98620.js.map
