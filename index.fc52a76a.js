!function(){var e="https://api.themoviedb.org/3/",n="e09801b88bee36721ddccafeb1a578e0";function t(t,c){var o=t.replace(" ","+");return console.log("".concat(e,"search/movie?api_key=").concat(n,"&query=").concat(o,"&page=").concat(c)),fetch("".concat(e,"search/movie?api_key=").concat(n,"&query=").concat(o,"&page=").concat(c)).then((function(e){return e.json()}))}var c,o={moviesContainer:document.querySelector(".movies-cards-container"),formSearchBox:document.querySelector(".header-input-container"),inputSearchBox:document.querySelector("#search-box"),errorMessage:document.querySelector(".header-error-container")},a=1,r=[];function i(e){console.log(e),o.moviesContainer.innerHTML=e.results.map((function(e){var n=e.poster_path,t=e.genre_ids,c=e.title,o=e.release_date;e.id;return'\n        <div class="movie-card">\n        <a href="" class="movie-card-link" data-modal-open>\n            <img src="https://image.tmdb.org/t/p/w500/'.concat(n,'" alt="').concat(c,'" class="movie-card-img" width = "300px">\n            <div class="movie-card-info-set">\n                <h3 class="movie-card-info-title">').concat(c,'</h3>\n                <div class="movie-card-info-details-set">\n                  <p class="movie-card-info-genre">').concat(function(e){for(var n="",t=0;t<e.length;t+=1)for(var c=0;c<r.length;c+=1)if(e[t]===r[c].id){if(t>=1&&(n+=", "),t>=2)return n+"Other";n+=r[c].name;break}return n}(t),'</p>\n                  <p class="movie-card-info-genre"> &nbsp; &#124; &nbsp; </p>\n                  <p class="movie-card-info-date">').concat(function(e){return new Date(e).getFullYear()}(o),"</p>\n                </div>\n            </div>\n         </a>\n       \n        </div>\n    ")})).join("")}function s(){o.errorMessage.classList.remove("is-hidden"),setTimeout((function(){o.errorMessage.classList.add("is-hidden")}),2e3)}fetch("".concat(e,"genre/movie/list?api_key=").concat(n)).then((function(e){return e.json()})).then((function(e){for(var n=0;n<e.genres.length;n+=1)r.push(e.genres[n])})),(c=a,fetch("".concat(e,"trending/movie/week?api_key=").concat(n,"&page=").concat(c)).then((function(e){return e.json()}))).then(i).catch(s),o.formSearchBox.addEventListener("submit",(function(e){e.preventDefault(),console.log("kjsfhlajshfjaks"),a=1;var n=o.inputSearchBox.value.trim();n.length>0&&t(n,a).then(i).catch(s)}))}();
//# sourceMappingURL=index.fc52a76a.js.map
