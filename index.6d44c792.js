function e(e,n){const t=e.replace(" ","+");return console.log(`https://api.themoviedb.org/3/search/movie?api_key=e09801b88bee36721ddccafeb1a578e0&query=${t}&page=${n}`),fetch(`https://api.themoviedb.org/3/search/movie?api_key=e09801b88bee36721ddccafeb1a578e0&query=${t}&page=${n}`).then((e=>e.json()))}const n={moviesContainer:document.querySelector(".movies-cards-container"),formSearchBox:document.querySelector(".header-input-container"),inputSearchBox:document.querySelector("#search-box"),errorMessage:document.querySelector(".header-error-container")};let t=1,r=[];var o;function a(e){console.log(e),n.moviesContainer.innerHTML=e.results.map((({poster_path:e,genre_ids:n,title:t,release_date:o,id:a})=>`\n        <div class="movie-card">\n        <a href="" class="movie-card-link" data-modal-open>\n            <img src="https://image.tmdb.org/t/p/w500/${e}" alt="${t}" class="movie-card-img" width = "300px">\n            <div class="movie-card-info-set">\n                <h3 class="movie-card-info-title">${t}</h3>\n                <div class="movie-card-info-details-set">\n                  <p class="movie-card-info-genre">${function(e){let n="";for(let t=0;t<e.length;t+=1)for(let o=0;o<r.length;o+=1)if(e[t]===r[o].id){if(t>=1&&(n+=", "),t>=2)return n+="Other",n;n+=r[o].name;break}return n}(n)}</p>\n                  <p class="movie-card-info-genre"> &nbsp; &#124; &nbsp; </p>\n                  <p class="movie-card-info-date">${function(e){return new Date(e).getFullYear()}(o)}</p>\n                </div>\n            </div>\n         </a>\n       \n        </div>\n    `)).join("")}function i(){n.errorMessage.classList.remove("is-hidden"),setTimeout((()=>{n.errorMessage.classList.add("is-hidden")}),2e3)}fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=e09801b88bee36721ddccafeb1a578e0").then((e=>e.json())).then((e=>{for(let n=0;n<e.genres.length;n+=1)r.push(e.genres[n])})),(o=t,fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=e09801b88bee36721ddccafeb1a578e0&page=${o}`).then((e=>e.json()))).then(a).catch(i),n.formSearchBox.addEventListener("submit",(function(r){r.preventDefault(),console.log("kjsfhlajshfjaks"),t=1;const o=n.inputSearchBox.value.trim();o.length>0&&e(o,t).then(a).catch(i)}));
//# sourceMappingURL=index.6d44c792.js.map
